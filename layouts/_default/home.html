{{ define "main" }}
  <h1>{{ .Title }}</h1>
  {{ with .Params.details }}
    <p>Details: <a href="{{ . }}">{{ . }}</a></p>
  {{ end }}
  {{ with .Params.description }}
    <p>Description: {{ . }}</p>
  {{ end }}
  {{ with or .Params.url .Params.details }}
    <hr>
  {{ end }}
  {{ .Content }}

  {{ range .Site.RegularPages }}
    {{ $.Scratch.SetInMap "pages" (string (time .Params.date).Unix) . }}
  {{ end }}

  <h2>Range over <code>.Scratch.GetSortedMapValues</code></h2>

  {{ $pages := .Scratch.GetSortedMapValues "pages" }}
  {{ range $pages }}
    <a href="{{ .RelPermalink }}">{{ .LinkTitle }}</a><br>
  {{ end }}

  <h2>Range over <code>.Scratch.GetSortedMapValues (reversed)</code></h2>

  {{ $pages := .Scratch.GetSortedMapValues "pages" }}
  {{ range seq (sub (len $pages) 1) 0 }}
    {{ with index $pages . }}
      <a href="{{ .RelPermalink }}">{{ .LinkTitle }}</a><br>
    {{ end }}
  {{ end }}

{{ end }}
