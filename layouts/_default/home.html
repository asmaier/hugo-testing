{{ define "main" }}
  <h1>{{ .Title }}</h1>
  {{ with .Params.details }}
    <p>Details: <a href="{{ . }}">{{ . }}</a></p>
  {{ end }}
  {{ with .Params.description }}
    <p>Description: {{ . }}</p>
  {{ end }}
  {{ with or .Params.url .Params.details }}
    <hr>
  {{ end }}

  {{/* This works as expected. */}}
  {{ partial "foo.html" }}

  {{/* This is calling the inline partial (partials/bar.html) within layouts/partials/foo.html */}}
  {{/* It should be calling layouts/partials/bar.html */}}
  {{ partial "bar.html" }}

{{ end }}
