{{ define "main" }}[This is layouts/events/list.html]

{{/*
Render only events which:

- end date is given (= not unset, "ne" "nil"), and this end date is later than
  the limit;
- OR end date is not given (= is unset, "eq" "nil"), and then the start date is
  later than the limit.

Other events, even if published, are considered as over, and will not be
displayed in the list anymore.
*/}}

  <h1>{{ .Title }}</h1>

  {{ $limit_date := time "2021-08-10T13:27:00-07:00" }}

  {{ range $p := .Pages }}
    {{ with or .Params.date_end .Date }}
      {{ if (time .).After $limit_date }}
        <h2><a href="{{ $p.RelPermalink }}">{{ $p.Title }}</a></h2>
      {{ end }}
    {{ end }}
  {{ end }}

{{ end }}
